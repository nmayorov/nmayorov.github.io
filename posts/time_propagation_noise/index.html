<!doctype html><html lang=en><head><title>Noisy input in state time propagation: "control" vs. "navigation" · My Blog</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=description content="In this note I want to show that there are two possible scenarios how noisy input can influence state time propagation in estimation problems. This is not well articulated in classical literature and may create confusion when applying estimation algorithms to practical systems.
I will illustrate the concept on a simple example. Consider a robot which can move in the direction of its longitudinal axis and rotate. Its state is described by 4 variables (2D case):"><meta name=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Noisy input in state time propagation: &#34;control&#34; vs. &#34;navigation&#34;"><meta name=twitter:description content="In this note I want to show that there are two possible scenarios how noisy input can influence state time propagation in estimation problems. This is not well articulated in classical literature and may create confusion when applying estimation algorithms to practical systems.
I will illustrate the concept on a simple example. Consider a robot which can move in the direction of its longitudinal axis and rotate. Its state is described by 4 variables (2D case):"><meta property="og:title" content="Noisy input in state time propagation: &#34;control&#34; vs. &#34;navigation&#34;"><meta property="og:description" content="In this note I want to show that there are two possible scenarios how noisy input can influence state time propagation in estimation problems. This is not well articulated in classical literature and may create confusion when applying estimation algorithms to practical systems.
I will illustrate the concept on a simple example. Consider a robot which can move in the direction of its longitudinal axis and rotate. Its state is described by 4 variables (2D case):"><meta property="og:type" content="article"><meta property="og:url" content="https://nmayorov.github.io/posts/time_propagation_noise/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-12-10T00:00:00+00:00"><meta property="article:modified_time" content="2022-12-10T00:00:00+00:00"><link rel=canonical href=https://nmayorov.github.io/posts/time_propagation_noise/><link rel=preload href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as=font type=font/woff2 crossorigin><link rel=stylesheet href=/css/coder.min.c4d7e93a158eda5a65b3df343745d2092a0a1e2170feeec909b8a89443903c6a.css integrity="sha256-xNfpOhWO2lpls980N0XSCSoKHiFw/u7JCbiolEOQPGo=" crossorigin=anonymous media=screen><link rel=icon type=image/png href=/images/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/images/favicon-16x16.png sizes=16x16><link rel=apple-touch-icon href=/images/apple-touch-icon.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/images/safari-pinned-tab.svg color=#5bbad5><meta name=generator content="Hugo 0.108.0"></head><body class="preload-transitions colorscheme-light"><div class=float-container><a id=dark-mode-toggle class=colorscheme-toggle><i class="fa fa-adjust fa-fw" aria-hidden=true></i></a></div><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=/>My Blog</a>
<input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/posts/>Posts</a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title><a class=title-link href=https://nmayorov.github.io/posts/time_propagation_noise/>Noisy input in state time propagation: "control" vs. "navigation"</a></h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fa fa-calendar" aria-hidden=true></i>
<time datetime=2022-12-10T00:00:00Z>December 10, 2022</time></span>
<span class=reading-time><i class="fa fa-clock-o" aria-hidden=true></i>
5-minute read</span></div></div></header><div><p>In this note I want to show that there are two possible scenarios how noisy input can influence state time propagation in estimation problems.
This is not well articulated in classical literature and may create confusion when applying estimation algorithms to practical systems.</p><p>I will illustrate the concept on a simple example.
Consider a robot which can move in the direction of its longitudinal axis and rotate.
Its state is described by 4 variables (2D case):</p><ul><li>$x, y$ &ndash; euclidean coordinates in a selected global frame of reference</li><li>$v$ &ndash; velocity along the longitudinal axis</li><li>$\psi$ &ndash; heading angle relative to the global frame of reference</li></ul><p>The state variables follow the following differential equations:
$$
\dot{x} = v \cos \psi \\
\dot{y} = v \sin \psi \\
\dot{v} = a \\
\dot{\psi} = \omega
$$
Where $a$ and $\omega$ are acceleration and angular rate respectively.</p><p>Now consider two possible scenarios.</p><h1 id=control-scenario>Control scenario
<a class=heading-link href=#control-scenario><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h1><p>In this scenario required control signals $a(t)$ and $\omega(t)$ are determined before the mission, but they are executed imperfectly by the robot as
$$
\tilde{a} = a + w_a \\
\tilde{\omega} = \omega + w_\omega
$$
where $w_a$ and $w_\omega$ are random disturbances of acceleration and angular rate respectively.</p><p>The true state variables are stochastic and obeys the equations with disturbed acceleration and angular rate:
$$
\dot{x} = v \cos \psi \\
\dot{y} = v \sin \psi \\
\dot{v} = \tilde{a}\\
\dot{\psi} = \tilde{\omega}
$$</p><p>The estimation algorithm (like Extended Kalman Filter) executes the time propagation equations with nominal acceleration ang angular rate:
$$
\dot{\hat{x}} = \hat{v} \cos \hat{\psi} \\
\dot{\hat{y}} = \hat{v} \sin \hat{\psi} \\
\dot{\hat{v}} = a \\
\dot{\hat{\psi}} = \omega
$$
where $\hat{\cdot}$ denotes estimate of the corresponding variable.</p><p>Here we have that the actual motion of the robot is stochastic and the estimation equations are deterministic.
This is how estimation problems and algorithms are usually formulated in literature.</p><h1 id=navigation-scenario>Navigation scenario
<a class=heading-link href=#navigation-scenario><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h1><p>In this scenario the control signals to the robot are unknown (it can be controlled by an operator, for example), but acceleration and angular rate are measured by sensors installed on the robot as
$$
\tilde{a} = a + w_a \\
\tilde{\omega} = \omega + w_\omega
$$
where $w_a$ and $w_\omega$ are random measurement noise of acceleration and angular rate respectively.</p><p>The true state variables are unknown but deterministic and obey the equations with true acceleration and angular rate:
$$
\dot{x} = v \cos \psi \\
\dot{y} = v \sin \psi \\
\dot{v} = a\\
\dot{\psi} = \omega
$$</p><p>The estimation algorithm executes the time propagation equations with measured acceleration and angular rate:
$$
\dot{\hat{x}} = \hat{v} \cos \hat{\psi} \\
\dot{\hat{y}} = \hat{v} \sin \hat{\psi} \\
\dot{\hat{v}} = \tilde{a} \\
\dot{\hat{\psi}} = \tilde{\omega}
$$</p><p>Here we have that the actual motion of the robot is deterministic and the estimation equations are stochastic.
This situation occurs when the noisy measurements are used in the time propagation equations.
An important example is an Inertial Navigation System (INS), where noisy measurements of gyros and accelerometers are used to propagate the system state (i. e. position, velocity and attitude).
Our example in this section can be though of as a simplified INS.</p><h1 id=general-treatment-and-consequences-on-estimation-algorithms-design>General treatment and consequences on estimation algorithms design
<a class=heading-link href=#general-treatment-and-consequences-on-estimation-algorithms-design><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h1><p>Let&rsquo;s write the state and estimate propagation equations in a general form for a state vector $x$ with a noise vector $w$.</p><p>For the control scenario:
$$
\dot{x} = f(x, w) \\
\dot{\hat{x}} = f(\hat{x}, 0)
$$
For the navigation scenario:
$$
\dot{x} = f(x, 0) \\
\dot{\hat{x}} = f(\hat{x}, w)
$$</p><p>Consider the error of the estimate:
$$
\Delta x = \hat{x} - x
$$
In both scenarios an estimation algorithm is sought to be unbiased with the minimal error variance:
$$
\operatorname{E} \Delta x = 0 \text{ and } \operatorname{E} (\Delta x)^T \Delta x \text{ is minimal}
$$
A linearized differential equation for the error can be obtained by subtracting the state propagation equations from the estimate propagation equations and linearizing:
$$
\Delta \dot{x} = F(x) \Delta x \pm G(x) w \\
\text{with } F(x) = \frac{\partial f(x)}{\partial x} \text{ and } G(x) = \frac{\partial f(x)}{\partial w}
$$
Plus and minus are used for navigation and control scenarios respectively.
Considering that $w$ is usually modelled as a zero mean noise, this difference is not substantial.</p><p>With the assumption that $w$ is a zero mean white noise, the equation for the error covariance time propagation is the same in both scenarios:
$$
\dot{P} = F P F^T + G Q G^T
$$
where $Q$ is power spectral density matrix of the noise $w$.</p><p>We can see that there is no difference in estimation algorithm design besides whether noisy input is used in the estimate time propagation (&#171;navigation scenario&#187;) or not (&#171;control scenario&#187;).
Mixed scenarios are possible too &ndash; with a conceptual understanding of the subject it&rsquo;s not difficult to properly design and reason about estimation algorithms in such cases too.</p><h1 id=conclusion>Conclusion
<a class=heading-link href=#conclusion><i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h1><p>I&rsquo;ve highlighted that in estimation problems a noisy input can influence the true state time propagation or the state estimate time propagation.
It doesn&rsquo;t change an estimation algorithm&rsquo;s objective or implementation logic, but it is useful to keep that in mind for clear intuitive engineering understanding of estimation theory and algorithms.
Without understanding this point one can get a bit stuck when trying to design an estimation algorithm for a system like INS, where noisy measurements are used for the state estimate propagation.</p></div><footer></footer></article><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css integrity=sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js integrity=sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous onload='renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}]})'></script></section></div><footer class=footer><section class=container>©
2022
·
Powered by <a href=https://gohugo.io/>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/>Coder</a>.</section></footer></main><script src=/js/coder.min.236049395dc3682fb2719640872958e12f1f24067bb09c327b233e6290c7edac.js integrity="sha256-I2BJOV3DaC+ycZZAhylY4S8fJAZ7sJwyeyM+YpDH7aw="></script></body></html>